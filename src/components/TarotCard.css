.tarot-card {
    --card-w: var(--card-width);
    --card-h: var(--card-height);
    width: var(--card-w);
    height: var(--card-h);
    cursor: pointer;
    perspective: 1000px;
    transition: transform 0.3s ease, filter 0.3s ease;
}

.tarot-card.small {
    --card-w: 80px;
    --card-h: 133px;
}

.tarot-card.medium {
    --card-w: var(--card-width);
    --card-h: var(--card-height);
}

.tarot-card.large {
    --card-w: 180px;
    --card-h: 300px;
}

/* 결과 페이지용 더 큰 사이즈 */
.tarot-card.xlarge {
    --card-w: 220px;
    --card-h: 366px;
}

.tarot-card.hoverable:hover {
    transform: translateY(-15px) scale(1.02);
    z-index: 10;
}

.tarot-card.selected {
    transform: translateY(-20px) scale(1.05);
    z-index: 20;
}

.tarot-card.wiggle {
    animation: cardWiggle 2.5s ease-in-out infinite;
}

@keyframes cardWiggle {

    0%,
    100% {
        transform: rotate(0deg);
    }

    25% {
        transform: rotate(-1.5deg) translateY(-2px);
    }

    75% {
        transform: rotate(1.5deg) translateY(-2px);
    }
}

.flip-card-inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.8s cubic-bezier(0.4, 0, 0.2, 1);
    transform-style: preserve-3d;
}

.tarot-card.flipped .flip-card-inner {
    transform: rotateY(180deg);
}

.flip-card-front,
.flip-card-back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: var(--card-border-radius);
    overflow: hidden;
}

/* ===== 카드 뒷면 - 리얼한 타로 카드 디자인 ===== */
.card-back {
    background: linear-gradient(145deg, #1a0a2e 0%, #2d1b4e 30%, #1a0a2e 70%, #0d0518 100%);
    border: 3px solid;
    border-image: linear-gradient(145deg, #d4af37 0%, #f4e4bc 25%, #d4af37 50%, #b8860b 75%, #d4af37 100%) 1;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
        0 8px 25px rgba(0, 0, 0, 0.6),
        0 4px 10px rgba(0, 0, 0, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1),
        inset 0 -1px 0 rgba(0, 0, 0, 0.3);
}

.card-back-pattern {
    width: 88%;
    height: 92%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
}

/* 외곽 장식 프레임 */
.pattern-outer {
    width: 100%;
    height: 100%;
    border: 2px solid rgba(212, 175, 55, 0.6);
    border-radius: 6px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background:
        /* 마름모 패턴 */
        repeating-linear-gradient(45deg,
            transparent 0px,
            transparent 8px,
            rgba(212, 175, 55, 0.08) 8px,
            rgba(212, 175, 55, 0.08) 9px),
        repeating-linear-gradient(-45deg,
            transparent 0px,
            transparent 8px,
            rgba(139, 92, 246, 0.05) 8px,
            rgba(139, 92, 246, 0.05) 9px);
}

/* 코너 장식 */
.pattern-outer::before,
.pattern-outer::after {
    content: '✦';
    position: absolute;
    font-size: 0.8rem;
    color: rgba(212, 175, 55, 0.7);
}

.pattern-outer::before {
    top: 6px;
    left: 6px;
}

.pattern-outer::after {
    bottom: 6px;
    right: 6px;
}

/* 중앙 원형 장식 */
.pattern-inner {
    width: 55%;
    height: 65%;
    border: 2px solid rgba(212, 175, 55, 0.5);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    background:
        radial-gradient(circle at center, rgba(139, 92, 246, 0.15) 0%, transparent 50%),
        radial-gradient(circle at center, rgba(212, 175, 55, 0.1) 30%, transparent 70%);
    box-shadow:
        0 0 20px rgba(139, 92, 246, 0.2),
        inset 0 0 15px rgba(212, 175, 55, 0.1);
}

/* 장식 링 */
.pattern-inner::before {
    content: '';
    position: absolute;
    width: 75%;
    height: 75%;
    border: 1px dashed rgba(212, 175, 55, 0.4);
    border-radius: 50%;
    animation: slowRotate 30s linear infinite;
}

.pattern-inner::after {
    content: '';
    position: absolute;
    width: 90%;
    height: 90%;
    border: 1px solid rgba(212, 175, 55, 0.2);
    border-radius: 50%;
    animation: slowRotate 45s linear infinite reverse;
}

@keyframes slowRotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

.card-symbol {
    font-size: 1.8rem;
    color: var(--color-gold);
    text-shadow:
        0 0 10px var(--color-gold),
        0 0 20px rgba(212, 175, 55, 0.5);
    z-index: 2;
}

/* 카드 전체 빛나는 효과 */
.card-glow {
    position: absolute;
    inset: 0;
    border-radius: var(--card-border-radius);
    box-shadow:
        inset 0 0 40px rgba(212, 175, 55, 0.15),
        inset 0 0 80px rgba(139, 92, 246, 0.1);
    pointer-events: none;
}

/* 카드 모서리 하이라이트 */
.card-back::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 30%;
    background: linear-gradient(180deg, rgba(255, 255, 255, 0.05) 0%, transparent 100%);
    pointer-events: none;
}

/* ===== 카드 앞면 ===== */
.card-front {
    background: linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f0f23 100%);
    border: 3px solid;
    border-image: linear-gradient(145deg, #d4af37 0%, #f4e4bc 25%, #d4af37 50%, #b8860b 75%, #d4af37 100%) 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0.5rem;
    transform: rotateY(180deg);
    box-shadow:
        0 8px 25px rgba(0, 0, 0, 0.6),
        0 4px 10px rgba(0, 0, 0, 0.4);
}

.card-front.reversed {
    transform: rotateY(180deg) rotate(180deg);
}

.card-header {
    width: 100%;
    display: flex;
    justify-content: center;
    margin-bottom: 0.25rem;
}

.card-number {
    font-size: var(--font-size-sm);
    color: var(--color-gold);
    font-weight: 600;
    text-shadow: 0 0 5px rgba(212, 175, 55, 0.5);
}

.card-image-area {
    flex: 1;
    width: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
}

/* ===== 카드 이미지 아트워크 ===== */
.card-artwork {
    width: 100%;
    height: 100%;
    object-fit: cover;
    object-position: center;
    border-radius: 4px;
    transition: transform 0.3s ease;
}

/* 호버 시 이미지 살짝 확대 */
.tarot-card:hover .card-artwork {
    transform: scale(1.02);
}

/* 사이즈별 이미지 조정 */
.tarot-card.small .card-artwork {
    border-radius: 2px;
}

.tarot-card.large .card-artwork,
.tarot-card.xlarge .card-artwork {
    border-radius: 6px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.card-mystical-bg {
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
}

.mystical-circle {
    width: 80%;
    aspect-ratio: 1;
    border: 1px solid rgba(212, 175, 55, 0.3);
    border-radius: 50%;
    position: absolute;
    box-shadow: 0 0 20px rgba(212, 175, 55, 0.1);
}

.mystical-rays {
    position: absolute;
    width: 100%;
    height: 100%;
    background: conic-gradient(from 0deg,
            transparent 0deg,
            rgba(212, 175, 55, 0.1) 45deg,
            transparent 90deg,
            rgba(212, 175, 55, 0.1) 135deg,
            transparent 180deg,
            rgba(212, 175, 55, 0.1) 225deg,
            transparent 270deg,
            rgba(212, 175, 55, 0.1) 315deg,
            transparent 360deg);
    animation: rotate 20s linear infinite;
}

@keyframes rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

.card-symbol-large {
    font-size: 3rem;
    color: var(--color-gold);
    text-shadow: 0 0 20px var(--color-gold);
    z-index: 1;
}

.card-title {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.125rem;
    margin-top: 0.25rem;
}

.card-name-kr {
    font-size: var(--font-size-sm);
    font-weight: 600;
    color: var(--color-text-primary);
}

.card-name-en {
    font-size: var(--font-size-xs);
    color: var(--color-text-muted);
    text-transform: uppercase;
    letter-spacing: 0.5px;
}

.reversed-indicator {
    position: absolute;
    bottom: 0.5rem;
    font-size: var(--font-size-xs);
    color: var(--color-accent-purple);
    background: rgba(139, 92, 246, 0.2);
    padding: 0.125rem 0.5rem;
    border-radius: 4px;
}

.card-hover-glow {
    position: absolute;
    inset: -5px;
    border-radius: calc(var(--card-border-radius) + 5px);
    background: linear-gradient(135deg,
            rgba(212, 175, 55, 0.3) 0%,
            rgba(139, 92, 246, 0.3) 100%);
    filter: blur(10px);
    z-index: -1;
    animation: pulseGlow 1.5s ease-in-out infinite;
}

@keyframes pulseGlow {

    0%,
    100% {
        opacity: 0.5;
        transform: scale(1);
    }

    50% {
        opacity: 0.8;
        transform: scale(1.05);
    }
}

/* ===== 모바일 최적화 ===== */
@media (max-width: 480px) {
    .card-symbol-large {
        font-size: 2rem;
    }

    .card-name-kr {
        font-size: 0.7rem;
    }

    .card-name-en {
        font-size: 0.6rem;
    }

    .card-symbol {
        font-size: 1.4rem;
    }
}