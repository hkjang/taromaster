# ğŸ’° ê²°ì œ ì‹œìŠ¤í…œ ê°€ì´ë“œ

íƒ€ë¡œ ë§ˆìŠ¤í„°ëŠ” í† ìŠ¤í˜ì´ë¨¼ì¸ ë¥¼ í†µí•´ "ë³µì±„" (íŒ/ê°ì‚¬ ê²°ì œ) ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.

## ê¸°ëŠ¥ ê°œìš”

ë¦¬ë”©ì´ ë„ì›€ì´ ë˜ì—ˆë‹¤ê³  ëŠë¼ëŠ” ì‚¬ìš©ìê°€ ìë°œì ìœ¼ë¡œ ì†Œì•¡ì„ ê²°ì œí•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì…ë‹ˆë‹¤.

- ê²°ê³¼ í˜ì´ì§€ì—ì„œ ì‚¬ìš© ê°€ëŠ¥
- 4ê°€ì§€ ê¸ˆì•¡ ì˜µì…˜ (1,000ì› ~ 10,000ì›)
- í…ŒìŠ¤íŠ¸ ëª¨ë“œë¡œ ê¸°ë³¸ ì„¤ì •ë¨

## í˜„ì¬ ì„¤ì •

### í…ŒìŠ¤íŠ¸ ëª¨ë“œ

í˜„ì¬ ì•±ì€ **í…ŒìŠ¤íŠ¸ ëª¨ë“œ**ë¡œ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤:

```typescript
// TipPayment.tsx
const TOSS_CLIENT_KEY = 'test_ck_D5GePWvyJnrK0W0k6q8gLzN97Eoq';
```

> âš ï¸ **í…ŒìŠ¤íŠ¸ ëª¨ë“œì—ì„œëŠ” ì‹¤ì œ ê²°ì œê°€ ì´ë£¨ì–´ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤.**

## í† ìŠ¤í˜ì´ë¨¼ì¸  ì—°ë™ ë°©ë²•

### 1. í† ìŠ¤í˜ì´ë¨¼ì¸  ê°€ì…

1. [í† ìŠ¤í˜ì´ë¨¼ì¸  ê°œë°œìì„¼í„°](https://developers.tosspayments.com/)ì— ì ‘ì†
2. ì‚¬ì—…ì ë“±ë¡ ë° ê³„ì • ìƒì„±
3. ìƒì  ì •ë³´ ë“±ë¡

### 2. í´ë¼ì´ì–¸íŠ¸ í‚¤ ë°œê¸‰

1. ê°œë°œìì„¼í„° â†’ API í‚¤ ë©”ë‰´
2. **í´ë¼ì´ì–¸íŠ¸ í‚¤** ë³µì‚¬ (ck_ë¡œ ì‹œì‘)
3. í…ŒìŠ¤íŠ¸/ë¼ì´ë¸Œ í™˜ê²½ì— ë§ëŠ” í‚¤ ì‚¬ìš©

| í™˜ê²½ | í‚¤ í˜•ì‹ |
|------|---------|
| í…ŒìŠ¤íŠ¸ | `test_ck_...` |
| ë¼ì´ë¸Œ | `live_ck_...` |

### 3. í´ë¼ì´ì–¸íŠ¸ í‚¤ ì ìš©

`src/components/TipPayment.tsx` íŒŒì¼ì—ì„œ í‚¤ë¥¼ ë³€ê²½í•©ë‹ˆë‹¤:

```typescript
// í…ŒìŠ¤íŠ¸ í™˜ê²½
const TOSS_CLIENT_KEY = 'test_ck_xxxxxxxxxxxxx';

// ë¼ì´ë¸Œ í™˜ê²½
const TOSS_CLIENT_KEY = 'live_ck_xxxxxxxxxxxxx';
```

### 4. ê²°ì œ ì™„ë£Œ ì²˜ë¦¬

í˜„ì¬ êµ¬í˜„ì—ì„œ ê²°ì œ ì„±ê³µ/ì‹¤íŒ¨ ì‹œ Result í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ë©ë‹ˆë‹¤:

```typescript
successUrl: `${window.location.origin}/result?payment=success`,
failUrl: `${window.location.origin}/result?payment=fail`,
```

ì‹¤ì œ ê²°ì œ ê²€ì¦ì„ ìœ„í•´ì„œëŠ” **ì„œë²„ ì¸¡ ê²°ì œ ê²€ì¦**ì´ í•„ìš”í•©ë‹ˆë‹¤.

## ì„œë²„ ì¸¡ ê²°ì œ ê²€ì¦ (ê¶Œì¥)

ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ê²°ì œ ê²€ì¦ì„ ìœ„í•œ ë°±ì—”ë“œ ì„œë²„ê°€ í•„ìš”í•©ë‹ˆë‹¤:

### ê²°ì œ ìŠ¹ì¸ API

```typescript
// ì„œë²„ì—ì„œ ê²°ì œ ìŠ¹ì¸ ìš”ì²­
const response = await fetch('https://api.tosspayments.com/v1/payments/confirm', {
    method: 'POST',
    headers: {
        'Authorization': `Basic ${Buffer.from(SECRET_KEY + ':').toString('base64')}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify({
        paymentKey: paymentKey,
        orderId: orderId,
        amount: amount
    })
});
```

### ê²°ì œ íë¦„

```
1. í´ë¼ì´ì–¸íŠ¸: ê²°ì œ ìš”ì²­ (requestPayment)
        â†“
2. í† ìŠ¤í˜ì´ë¨¼ì¸ : ê²°ì œì°½ í‘œì‹œ
        â†“
3. ì‚¬ìš©ì: ê²°ì œ ì§„í–‰
        â†“
4. í† ìŠ¤í˜ì´ë¨¼ì¸  â†’ successUrl ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸
        â†“
5. ì„œë²„: ê²°ì œ ìŠ¹ì¸ API í˜¸ì¶œ
        â†“
6. ì„œë²„: ê²°ê³¼ ì €ì¥ ë° ì‘ë‹µ
```

## ê²°ì œ ê¸ˆì•¡ ì»¤ìŠ¤í„°ë§ˆì´ì§•

`src/components/TipPayment.tsx`ì—ì„œ ê¸ˆì•¡ ì˜µì…˜ì„ ìˆ˜ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```typescript
const TIP_AMOUNTS = [
    { value: 1000, label: '1,000ì›', emoji: 'ğŸ™' },
    { value: 3000, label: '3,000ì›', emoji: 'ğŸ’' },
    { value: 5000, label: '5,000ì›', emoji: 'âœ¨' },
    { value: 10000, label: '10,000ì›', emoji: 'ğŸŒŸ' },
    // ìƒˆ ê¸ˆì•¡ ì¶”ê°€
    { value: 50000, label: '50,000ì›', emoji: 'ğŸ‘‘' },
];
```

## SDK ë¡œë“œ

í† ìŠ¤í˜ì´ë¨¼ì¸  SDKëŠ” `index.html`ì—ì„œ ë¡œë“œë©ë‹ˆë‹¤:

```html
<script src="https://js.tosspayments.com/v1/payment"></script>
```

## ì˜¤ë¥˜ ì²˜ë¦¬

### ì‚¬ìš©ì ì·¨ì†Œ

ì‚¬ìš©ìê°€ ê²°ì œë¥¼ ì·¨ì†Œí•˜ë©´ `USER_CANCEL` ì½”ë“œê°€ ë°˜í™˜ë©ë‹ˆë‹¤:

```typescript
if (paymentError.code === 'USER_CANCEL') {
    console.log('ê²°ì œê°€ ì·¨ì†Œë˜ì—ˆìŠµë‹ˆë‹¤.');
}
```

### ì¼ë°˜ì ì¸ ì˜¤ë¥˜

| ì½”ë“œ | ì„¤ëª… | ëŒ€ì‘ |
|------|------|------|
| `USER_CANCEL` | ì‚¬ìš©ì ì·¨ì†Œ | ë¬´ì‹œ |
| `PAY_PROCESS_CANCELED` | ê²°ì œ ì§„í–‰ ì¤‘ ì·¨ì†Œ | ë¬´ì‹œ |
| `INVALID_CARD_EXPIRATION` | ìœ íš¨í•˜ì§€ ì•Šì€ ì¹´ë“œ | ì•ˆë‚´ ë©”ì‹œì§€ |
| `EXCEED_MAX_PAYMENT_AMOUNT` | ê²°ì œ í•œë„ ì´ˆê³¼ | ì•ˆë‚´ ë©”ì‹œì§€ |

## ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

### í´ë¼ì´ì–¸íŠ¸ í‚¤ vs ì‹œí¬ë¦¿ í‚¤

| í‚¤ ì¢…ë¥˜ | ìš©ë„ | ë…¸ì¶œ ê°€ëŠ¥ |
|---------|------|-----------|
| í´ë¼ì´ì–¸íŠ¸ í‚¤ | ê²°ì œ ìš”ì²­ | â­• (í”„ë¡ íŠ¸ì—”ë“œ) |
| ì‹œí¬ë¦¿ í‚¤ | ê²°ì œ ìŠ¹ì¸/ì¡°íšŒ | âŒ (ì„œë²„ë§Œ) |

> âš ï¸ **ì‹œí¬ë¦¿ í‚¤ëŠ” ì ˆëŒ€ í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œì— í¬í•¨í•˜ì§€ ë§ˆì„¸ìš”!**

### ê¸ˆì•¡ ê²€ì¦

ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” ì„œë²„ì—ì„œ ê¸ˆì•¡ì„ ê²€ì¦í•´ì•¼ í•©ë‹ˆë‹¤:

```typescript
// ì„œë²„ì—ì„œ ê²€ì¦
if (receivedAmount !== expectedAmount) {
    throw new Error('ê¸ˆì•¡ ìœ„ë³€ì¡° ê°ì§€');
}
```

## ì°¸ê³  ë¬¸ì„œ

- [í† ìŠ¤í˜ì´ë¨¼ì¸  ê°œë°œì ê°€ì´ë“œ](https://docs.tosspayments.com/)
- [ê²°ì œìœ„ì ¯ ì‚¬ìš© ê°€ì´ë“œ](https://docs.tosspayments.com/guides/payment-widget/integration)
- [API ë ˆí¼ëŸ°ìŠ¤](https://docs.tosspayments.com/reference)
